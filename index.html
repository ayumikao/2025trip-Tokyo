<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>è¡Œç¨‹ç¸½è¦½ï½œæ—¥æœŸåˆ‡æ›çš„äº’å‹•åœ°åœ– + æ™‚é–“è»¸</title>

  <!-- Leaflet åœ°åœ–ï¼ˆCDNï¼‰ -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin=""/>
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>

  <style>
    :root{
      --primary:#2563eb;
      --accent:#22c55e;
      --bg:#0b1022;
      --card:#0f172a;
      --text:#e5e7eb;
      --muted:#9ca3af;
      --ring: rgba(37,99,235,.35);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, "Noto Sans TC", Arial, "PingFang TC", "Microsoft JhengHei", sans-serif;
      color:var(--text);
      background: radial-gradient(1200px 600px at 80% -10%, #1f2937 0%, #0b1022 50%, #010409 100%);
    }
    header{
      position:sticky; top:0; z-index:50;
      backdrop-filter: blur(8px);
      background: rgba(2,6,23,.6);
      border-bottom:1px solid rgba(255,255,255,.06);
    }
    .wrap{max-width:1080px;margin:0 auto;padding:16px}
    nav{display:flex;align-items:center;gap:12px;flex-wrap:wrap;justify-content:space-between}
    .brand{display:flex;align-items:center;gap:10px}
    .brand .dot{width:10px;height:10px;border-radius:50%;background:linear-gradient(135deg,var(--primary),var(--accent)); box-shadow:0 0 12px var(--ring)}
    .brand h1{font-size:18px;margin:0}
    .navlinks{display:flex;gap:8px;flex-wrap:wrap}
    .navlinks a{color:var(--muted);text-decoration:none;padding:8px 10px;border-radius:10px}
    .navlinks a:hover{color:white;background:rgba(255,255,255,.06)}

    main .section{padding:28px 16px}
    .hero{text-align:center;padding:56px 16px 12px;}
    .hero h2{margin:0 0 8px 0;font-size:clamp(22px,3.2vw,34px)}
    .hero p{margin:0;color:var(--muted)}

    .card{
      background: linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02));
      border:1px solid rgba(255,255,255,.08);
      border-radius:16px; padding:16px;
      box-shadow: 0 10px 30px rgba(0,0,0,.25);
    }
    .grid{display:grid;gap:16px}
    @media(min-width:960px){ .grid{grid-template-columns: 1.25fr .75fr}}

    /* æ—¥æœŸæŒ‰éˆ• */
    .datebar{display:flex;gap:10px;flex-wrap:wrap;justify-content:center;margin:8px 0 0}
    .datebtn{
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.04);
      color:#c7d2fe;
      padding:10px 14px; border-radius:12px; cursor:pointer;
      transition: all .18s ease;
    }
    .datebtn:hover{transform:translateY(-1px); box-shadow:0 8px 18px var(--ring)}
    .datebtn.active{background:linear-gradient(135deg,var(--primary),var(--accent)); color:white; border-color:transparent}

    /* åœ°åœ–èˆ‡èªªæ˜ */
    #map{height:520px;border-radius:12px;overflow:hidden}
    .legend{display:flex;gap:8px;flex-wrap:wrap;margin-top:8px;font-size:14px;color:var(--muted)}
    .pill{border:1px solid rgba(255,255,255,.12); padding:4px 10px;border-radius:999px}

    /* æ™‚é–“è»¸ */
    .timeline{position:relative;padding:8px 0 8px 18px}
    .timeline::before{
      content:""; position:absolute; left:6px; top:0; bottom:0; width:4px;
      background: linear-gradient(var(--primary), var(--accent));
      border-radius:4px;
    }
    .titem{
      position:relative; margin:14px 0; padding:12px 12px 12px 16px;
      background: rgba(255,255,255,.04);
      border:1px solid rgba(255,255,255,.08);
      border-radius:12px;
    }
    .titem::before{
      content:""; position:absolute; left:-2px; top:18px; width:10px; height:10px; border-radius:50%;
      background: white; box-shadow:0 0 0 6px var(--ring);
    }
    time{color:#c7d2fe; font-weight:600}
    .muted{color:var(--muted)}

    footer{padding:32px 16px; text-align:center; color:var(--muted)}
  </style>
</head>
<body>
  <header>
    <div class="wrap">
      <nav>
        <div class="brand">
          <span class="dot"></span>
          <h1>Ayumi Trip 2025</h1>
        </div>
        <div class="navlinks">
          <a href="#mapsec">äº’å‹•åœ°åœ–</a>
          <a href="#timeline">æ™‚é–“è»¸</a>
        </div>
      </nav>
    </div>
  </header>

  <main>
    <section class="hero">
      <h2>æ¾€è°· â†’ éŒå€‰ â†’ ç®±æ ¹ â†’ ç†±æµ· â†’ ä¼Šè±†åŠå³¶</h2>
      <p>é»ä¸‹æ–¹æ—¥æœŸæŒ‰éˆ•ï¼Œæœƒåˆ‡æ›åˆ°å°æ‡‰çš„ã€Œäº’å‹•åœ°åœ–ã€èˆ‡ã€Œæ™‚é–“è»¸ã€ã€‚</p>
      <div class="datebar" id="datebar">
        <button class="datebtn" data-day="2025-09-20">9/20</button>
        <button class="datebtn" data-day="2025-09-21">9/21</button>
        <button class="datebtn" data-day="2025-09-22">9/22</button>
        <button class="datebtn" data-day="2025-09-23">9/23</button>
      </div>
    </section>

    <section id="mapsec" class="section">
      <div class="wrap grid">
        <div class="card">
          <div id="map"></div>
          <div class="legend">
            <span class="pill">ğŸ”µ ä¾æ—¥æœŸé¡¯ç¤ºå°æ‡‰æ™¯é»èˆ‡è·¯ç·š</span>
            <span class="pill">ğŸ“ é»æ¨™è¨˜çœ‹å‚™è¨»</span>
            <span class="pill">ğŸ§­ é›™æŒ‡ç¸®æ”¾æˆ–æ»‘é¼ æ»¾è¼ª</span>
          </div>
        </div>
        <div class="card">
          <h3 style="margin-top:0">ç•¶æ—¥æ‘˜è¦</h3>
          <div id="daySummary" class="muted">è«‹å¾ä¸Šæ–¹é¸æ“‡æ—¥æœŸã€‚</div>
          <h3>æ™‚é–“è»¸</h3>
          <div id="timeline" class="timeline"></div>
        </div>
      </div>
    </section>
  </main>

  <footer>
    <div class="wrap">Â© 2025 Ayumi</div>
  </footer>

  <script>
    // ---- è¡Œç¨‹è³‡æ–™ï¼šæ¯ä¸€å¤©çš„åœ°é»ï¼ˆè¿‘ä¼¼åº§æ¨™ï¼‰èˆ‡æ™‚é–“è»¸ ----
    const PLAN = {
      "2025-09-20": {
        label: "9/20 æ¾€è°· â†’ éŒå€‰",
        points: [
          { name:"æ¾€è°·ç«™ï¼ˆå‡ºç™¼ï¼‰", coords:[35.659, 139.700], note:"é›†åˆé»ï¼Œå¯æ”¹ç‚ºä½ çš„é£¯åº—åº§æ¨™ã€‚" },
          { name:"è‘›åŸå²¡ç¥ç¤¾", coords:[35.3309, 139.5406], note:"æ¸…æ™¨æ‹ç¥ç¤¾èˆ‡é³¥å±…ã€‚" },
          { name:"ä½åŠ©ç¨»è·ç¥ç¤¾", coords:[35.3303, 139.5445], note:"ç´…è‰²é³¥å±…éš§é“ï¼Œç†±é–€ç§æˆ¿é»ã€‚" },
          { name:"éŒå€‰é«˜æ ¡å‰å¹³äº¤é“", coords:[35.3110, 139.5350], note:"çŒç±ƒé«˜æ‰‹æ™¯ï¼Œå»ºè­°é¿é–‹å°–å³°ã€‚" },
          { name:"é•·è°·å¯º", coords:[35.3153, 139.5355], note:"åº­åœ’ï¼‹è§€æ™¯å°ã€‚" },
          { name:"éŒå€‰å¤§ä½›ï¼ˆé«˜å¾·é™¢ï¼‰", coords:[35.3167, 139.5352], note:"åœ°æ¨™æ™¯é»ã€‚" },
          { name:"é¶´å²¡å…«å¹¡å®®", coords:[35.3260, 139.5567], note:"æ™šæ®µé †éŠï¼Œå°ç”ºé€šå¯è¦“é£Ÿã€‚" }
        ],
        timeline: [
          { t:"06:30", text:"æ¾€è°·å‡ºç™¼ï¼ˆåŒ…è»Šï¼‰" },
          { t:"08:00", text:"è‘›åŸå²¡ç¥ç¤¾ï¼ä½åŠ©ç¨»è· æ‹æ”" },
          { t:"10:30", text:"æ±Ÿä¹‹é›»æ²¿ç·š â†’ éŒå€‰é«˜æ ¡å‰å¹³äº¤é“" },
          { t:"13:00", text:"é•·è°·å¯º â†’ éŒå€‰å¤§ä½›" },
          { t:"16:00", text:"é¶´å²¡å…«å¹¡å®®ï¼å°ç”ºé€šæ•£æ­¥" }
        ]
      },
      "2025-09-21": {
        label: "9/21 ç®±æ ¹",
        points: [
          { name:"æ¡ƒæºå°ç«™ï¼ˆåœè»Šï¼‰", coords:[35.2637, 139.0198], note:"åœè»Š â†’ çºœè»Šèµ·é»ã€‚" },
          { name:"å¤§æ¶Œè°·", coords:[35.2420, 139.0210], note:"é»‘è›‹ï¼ç«å±±åœ°è²Œï¼Œæ³¨æ„é¢¨å‘èˆ‡å¤©å€™ã€‚" },
          { name:"æ—©é›²å±±", coords:[35.2420, 139.0460], note:"çºœè»Šç«¯é»ï¼Œå¯è½‰å¼·ç¾…ã€‚" },
          { name:"Naraya Cafeï¼ˆå¼·ç¾…ï¼‰", coords:[35.2426, 139.0418], note:"è¶³æ¹¯ï¼‹é»å¿ƒï¼Œè¦ªå­å‹å–„ã€‚" },
          { name:"å’Œå¹³é³¥å±…ï¼ˆç®±æ ¹ç¥ç¤¾ æ¹–ä¸­é³¥å±…ï¼‰", coords:[35.2065, 139.0264], note:"ç†±é–€æ‹ç…§é»ï¼Œå»ºè­°æ—©å»ã€‚" }
        ],
        timeline: [
          { t:"09:30", text:"æŠµé”æ¡ƒæºå° â†’ æ­çºœè»Šç©å¤§æ¶Œè°·ä¸€åœˆ" },
          { t:"12:00", text:"Naraya Cafe è¶³æ¹¯ä¼‘æ¯" },
          { t:"14:00", text:"ç®±æ ¹ç¥ç¤¾ï¼å’Œå¹³é³¥å±…ï¼ˆæ¹–ç•”æ•£ç­–ï¼‰" },
          { t:"17:00", text:"è¿”å›åœè»Šå ´ï¼Œå‰å¾€ä½å®¿é»" }
        ]
      },
      "2025-09-22": {
        label: "9/22 ç†±æµ· â†’ ä¼Šè±†åŠå³¶",
        points: [
          { name:"ç†±æµ·", coords:[35.097, 139.077], note:"æµ·æ™¯æº«æ³‰ï¼Œå¯å®‰æ’ BBQ çš„ç¨æ£Ÿä½å®¿ã€‚" },
          { name:"ä¼Šæ±ï¼ˆç¤ºæ„ï¼‰", coords:[34.969, 139.103], note:"æµ·ç·šé¢¨æ™¯ä½³ï¼Œè¦ªå­å‹å–„æµ·æ¿±å…¬åœ’å¤šã€‚" },
          { name:"ä¸‹ç”°ï¼ˆç¤ºæ„ï¼‰", coords:[34.676, 138.944], note:"ç™½æ¿±æµ·å²¸ä¸€å¸¶ï¼Œé–‹è»Šå…œé¢¨æ‹ç…§ã€‚" },
          { name:"æ²³æ´¥ï¼ˆç¤ºæ„ï¼‰", coords:[34.745, 138.954], note:"è‹¥å¾€åŒ—å›ç¨‹å¯è·¯éæ¡è²·ã€‚" }
        ],
        timeline: [
          { t:"ä¸Šåˆ", text:"ç†±æµ·æµ·æ™¯é£¯åº—ä¼‘æ¯ï¼æ³¡æ¹¯ï¼å¯ BBQï¼ˆä¾ä½å®¿è¦å®šï¼‰" },
          { t:"ä¸‹åˆ", text:"æ²¿æµ·ç·šè‡ªé§•ï¼šç†±æµ· â†’ ä¼Šæ± â†’ ä¸‹ç”° â†’ æ²³æ´¥ï¼ˆè¦–é«”åŠ›èª¿æ•´ï¼‰" }
        ]
      },
      "2025-09-23": {
        label: "9/23 é ç•™ï¼ˆå¯åŠ  æ²³å£æ¹– æˆ– è¿”ç¨‹ï¼‰",
        points: [
          { name:"ï¼ˆå¾…è¦åŠƒï¼‰", coords:[35.659, 139.700], note:"æ­¤æ—¥ç›®å‰é ç•™ï¼Œå¯ä»¥æ›¿æ›æˆæ²³å£æ¹–æˆ–è¿”ç¨‹å‹•ç·šã€‚" }
        ],
        timeline: [
          { t:"TBD", text:"æ­¤æ—¥è¡Œç¨‹å°šæœªæœ€çµ‚åŒ–ã€‚å‘Šè¨´æˆ‘è¦æ”¾å“ªè£¡ï¼Œæˆ‘æœƒæ›´æ–°åœ°åœ–èˆ‡æ™‚é–“è»¸ã€‚" }
        ]
      }
    };

    // ---- åœ°åœ–åˆå§‹åŒ– ----
    const map = L.map('map', { scrollWheelZoom: true });
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      maxZoom: 19,
      attribution: '&copy; OpenStreetMap'
    }).addTo(map);
    const layerGroup = L.layerGroup().addTo(map);

    function renderDay(dayKey){
      const data = PLAN[dayKey];
      if(!data) return;

      // æ›´æ–°æ‘˜è¦
      document.getElementById('daySummary').textContent = data.label;

      // å…ˆæ¸…åœ°åœ–åœ–å±¤
      layerGroup.clearLayers();

      const latlngs = [];
      data.points.forEach(p => {
        latlngs.push(p.coords);
        L.marker(p.coords).addTo(layerGroup).bindPopup(`<b>${p.name}</b><br>${p.note||""}`);
      });

      if(latlngs.length >= 2){
        L.polyline(latlngs, { color: '#4f46e5', weight: 4, opacity: .9 }).addTo(layerGroup);
        map.fitBounds(L.latLngBounds(latlngs).pad(0.2));
      } else if(latlngs.length === 1){
        map.setView(latlngs[0], 12);
      }

      // æ›´æ–°æ™‚é–“è»¸
      const tl = document.getElementById('timeline');
      tl.innerHTML = "";
      data.timeline.forEach(it => {
        const div = document.createElement('div');
        div.className = 'titem';
        div.innerHTML = `<div><time>${it.t}</time> ${it.text}</div>`;
        tl.appendChild(div);
      });
    }

    // ---- æ—¥æœŸæŒ‰éˆ•äº‹ä»¶ ----
    const datebar = document.getElementById('datebar');
    datebar.addEventListener('click', e => {
      const btn = e.target.closest('.datebtn');
      if(!btn) return;
      for(const b of datebar.querySelectorAll('.datebtn')) b.classList.remove('active');
      btn.classList.add('active');
      renderDay(btn.dataset.day);
    });

    // é è¨­é¡¯ç¤º 9/20
    const defaultBtn = datebar.querySelector('[data-day="2025-09-20"]');
    defaultBtn.classList.add('active');
    renderDay("2025-09-20");
  </script>
</body>
</html>

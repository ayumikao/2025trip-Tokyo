<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>行程總覽｜日期切換（9/20 內嵌你的互動地圖）</title>
  <style>
    :root{
      --primary:#2563eb; --accent:#22c55e; --text:#e5e7eb; --muted:#9ca3af;
      --ring: rgba(37,99,235,.35);
    }
    *{box-sizing:border-box}
    body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,"Noto Sans TC","PingFang TC","Microsoft JhengHei",sans-serif;
      color:var(--text);background: radial-gradient(1200px 600px at 80% -10%, #1f2937 0%, #0b1022 50%, #010409 100%);}
    header{position:sticky;top:0;z-index:50;backdrop-filter: blur(8px);background: rgba(2,6,23,.6);border-bottom:1px solid rgba(255,255,255,.06);}
    .wrap{max-width:1080px;margin:0 auto;padding:16px}
    nav{display:flex;align-items:center;gap:12px;flex-wrap:wrap;justify-content:space-between}
    .brand{display:flex;align-items:center;gap:10px}
    .brand .dot{width:10px;height:10px;border-radius:50%;background:linear-gradient(135deg,var(--primary),var(--accent)); box-shadow:0 0 12px var(--ring)}
    .brand h1{font-size:18px;margin:0}
    main .section{padding:28px 16px}
    .hero{text-align:center;padding:56px 16px 12px;}
    .hero h2{margin:0 0 8px 0;font-size:clamp(22px,3.2vw,34px)}
    .hero p{margin:0;color:var(--muted)}
    .datebar{display:flex;gap:10px;flex-wrap:wrap;justify-content:center;margin:8px 0 0}
    .datebtn{border:1px solid rgba(255,255,255,.12);background: rgba(255,255,255,.04);color:#c7d2fe;padding:10px 14px;border-radius:12px;cursor:pointer;transition: all .18s ease;}
    .datebtn:hover{transform:translateY(-1px); box-shadow:0 8px 18px var(--ring)}
    .datebtn.active{background:linear-gradient(135deg,var(--primary),var(--accent)); color:white; border-color:transparent}
    .grid{display:grid;gap:16px}
    @media(min-width:960px){ .grid{grid-template-columns: 1.25fr .75fr}}
    .card{background: linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02));border:1px solid rgba(255,255,255,.08);border-radius:16px; padding:16px;box-shadow: 0 10px 30px rgba(0,0,0,.25);}
    #mapframe{width:100%;height:520px;border:0;border-radius:12px;background:#0b1022}
    .timeline{position:relative;padding:8px 0 8px 18px}
    .timeline::before{content:""; position:absolute; left:6px; top:0; bottom:0; width:4px;background: linear-gradient(var(--primary), var(--accent));border-radius:4px;}
    .titem{position:relative; margin:14px 0; padding:12px 12px 12px 16px;background: rgba(255,255,255,.04);border:1px solid rgba(255,255,255,.08);border-radius:12px;}
    .titem::before{content:""; position:absolute; left:-2px; top:18px; width:10px; height:10px; border-radius:50%;background: white; box-shadow:0 0 0 6px var(--ring);}
    time{color:#c7d2fe; font-weight:600}
    .muted{color:var(--muted)}
    footer{padding:32px 16px; text-align:center; color:var(--muted)}
  </style>
</head>
<body>
  <header>
    <div class="wrap">
      <nav>
        <div class="brand">
          <span class="dot"></span>
          <h1>Ayumi Trip 2025</h1>
        </div>
        <div style="color:#cbd5e1">澀谷 → 鎌倉 → 箱根 → 熱海 → 伊豆半島</div>
      </nav>
    </div>
  </header>

  <main>
    <section class="hero">
      <h2>點下方日期，切換對應的「互動地圖 + 時間軸」</h2>
      <p>9/20 會<span style="font-weight:700">直接內嵌你提供的互動地圖原檔</span>；其他日期先放占位，等你給內容再補。</p>
      <div class="datebar" id="datebar">
        <button class="datebtn" data-day="2025-09-20">9/20</button>
        <button class="datebtn" data-day="2025-09-21">9/21</button>
        <button class="datebtn" data-day="2025-09-22">9/22</button>
        <button class="datebtn" data-day="2025-09-23">9/23</button>
      </div>
    </section>

    <section id="mapsec" class="section">
      <div class="wrap grid">
        <div class="card">
          <iframe id="mapframe" title="互動地圖"></iframe>
        </div>
        <div class="card">
          <h3 style="margin-top:0">當日摘要</h3>
          <div id="daySummary" class="muted">請從上方選擇日期。</div>
          <h3>時間軸</h3>
          <div id="timeline" class="timeline"></div>
        </div>
      </div>
    </section>
  </main>

  <footer>
    <div class="wrap">© 2025 Ayumi</div>
  </footer>

  <script>
    const PLAN = {
      "2025-09-20": {
        label: "9/20 澀谷 → 鎌倉（你的互動地圖檔）",
        iframe: "map-2025-09-20.html",
        timeline: [
          { t:"06:30", text:"澀谷出發（包車）" },
          { t:"08:00", text:"葛原岡神社／佐助稻荷 拍攝" },
          { t:"10:30", text:"江之電沿線 → 鎌倉高校前平交道" },
          { t:"13:00", text:"長谷寺 → 鎌倉大佛" },
          { t:"16:00", text:"鶴岡八幡宮／小町通散步" }
        ]
      },
      "2025-09-21": {
        label: "9/21 箱根（待你提供地圖 or 我來做）",
        iframe: "", // 之後可放 map-2025-09-21.html
        timeline: [
          { t:"09:30", text:"桃源台停車 → 箱根空中纜車（大涌谷一圈）" },
          { t:"12:00", text:"Naraya Cafe 足湯休息" },
          { t:"14:00", text:"箱根神社／和平鳥居" }
        ]
      },
      "2025-09-22": {
        label: "9/22 熱海 → 伊豆半島（待補）",
        iframe: "",
        timeline: [
          { t:"上午", text:"海景飯店休息／泡湯／可 BBQ（依住宿規定）" },
          { t:"下午", text:"沿海線自駕：熱海 → 伊東 → 下田 → 河津（視體力調整）" }
        ]
      },
      "2025-09-23": {
        label: "9/23 河口湖或返程（待補）",
        iframe: "",
        timeline: [
          { t:"清晨", text:"（可放河口湖倒影點）" },
          { t:"上午", text:"（新屋山神社／遙拝所）" }
        ]
      }
    };

    function renderDay(dayKey){
      const data = PLAN[dayKey];
      if(!data) return;
      document.getElementById('daySummary').textContent = data.label;
      // 切換 iframe
      const frame = document.getElementById('mapframe');
      if(data.iframe){
        frame.src = data.iframe;
        frame.style.display = 'block';
      }else{
        frame.src = 'about:blank';
        frame.style.display = 'block';
        frame.contentWindow.document.open();
        frame.contentWindow.document.write(`<html><body style="margin:0;background:#0b1022;color:#9ca3af;display:flex;align-items:center;justify-content:center;height:100%"><div>此日的互動地圖尚未上線（請提供素材）</div></body></html>`);
        frame.contentWindow.document.close();
      }
      // 更新時間軸
      const tl = document.getElementById('timeline');
      tl.innerHTML = "";
      data.timeline.forEach(it => {
        const div = document.createElement('div');
        div.className = 'titem';
        div.innerHTML = `<div><time>${it.t}</time> ${it.text}</div>`;
        tl.appendChild(div);
      });
    }

    const datebar = document.getElementById('datebar');
    datebar.addEventListener('click', e => {
      const btn = e.target.closest('.datebtn');
      if(!btn) return;
      for(const b of datebar.querySelectorAll('.datebtn')) b.classList.remove('active');
      btn.classList.add('active');
      renderDay(btn.dataset.day);
    });

    // 預設顯示 9/20（你的地圖）
    const defaultBtn = datebar.querySelector('[data-day="2025-09-20"]');
    defaultBtn.classList.add('active');
    renderDay("2025-09-20");
  </script>
</body>
</html>
